import{d as B,e as w,_ as L,o as s,f as l,x as p,y as f,g as V,D as I,b as a,h as c,v as x,r as T,G as k,H as q,R as E,J as G,K as H,L as N,M as O,N as R,E as U}from"./index-2e5f8ac5.js";import{S as F}from"./index-ca3234ae.js";/* empty css              *//* empty css              *//* empty css              */import{G as M,a as Y}from"./index-34c2fe7b.js";import{n as j}from"./NavBar-14a98759.js";import{g as z}from"./good-37f6537b.js";import{a as b}from"./function-call-875e4379.js";import"./cart-98dc10ac.js";import"./axios-772a9739.js";const J=B({components:{},props:{cateData:Object},setup(){const r=w();return{clickCate:e=>{r.push({path:"/productList",query:{cat_id:e.cat_id,cat_name:e.cat_name}})}}}}),K={class:"cate-list"};function A(r,d,e,m,u,g){const v=M,_=Y;return s(),l("div",K,[(s(!0),l(p,null,f(r.cateData,i=>(s(),l("div",{class:"cate-item",key:i.cat_id},[V("h4",null,I(i.cat_name),1),a(_,{"column-num":4,clickable:!0,border:!1},{default:c(()=>[(s(!0),l(p,null,f(i.children,t=>(s(),x(v,{key:t.cat_id,icon:"photo-o",onClick:o=>r.clickCate(t),text:t.cat_name},null,8,["onClick","text"]))),128))]),_:2},1024)]))),128))])}const P=L(J,[["render",A],["__scopeId","data-v-3fdcc8e7"]]);const Q={class:"cate-page"},W={__name:"Category",setup(r){const d={type:3,pagenum:1,pagesize:30},e=T({cateList:[],secondCate:null}),m=k(10),u=k(0),g=async()=>{const{data:t}=await z({params:d});if(console.log(t.data),t.meta.status===200)e.cateList=t.data,e.secondCate=t.data[0].children;else return t.meta.status===400?(_.push({path:"/login"}),b("未登录！")):b("获取失败")};q(()=>{g()});const v=()=>{e.secondCate=e.cateList[u.value].children,(document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset)!==0&&(document.documentElement.scrollTop=0,document.body.scrollTop=0,window.pageYOffset=0)},_=w(),i=()=>{_.push({path:"/productList"})};return(t,o)=>{const S=F,h=N,C=O,y=R,$=U,D=E;return s(),l(p,null,[V("div",Q,[a(S,{modelValue:d.query,"onUpdate:modelValue":o[0]||(o[0]=n=>d.query=n),shape:"round",placeholder:"请输入搜索关键词",onClick:i},null,8,["modelValue"]),a(D,null,{default:c(()=>[a(y,{span:"5"},{default:c(()=>[a(C,{modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=n=>m.value=n)},{default:c(()=>[a(h,{title:"全品类",to:"/productList"})]),_:1},8,["modelValue"]),a(C,{onChange:o[2]||(o[2]=n=>v()),modelValue:u.value,"onUpdate:modelValue":o[3]||(o[3]=n=>u.value=n)},{default:c(()=>[(s(!0),l(p,null,f(e.cateList,n=>(s(),x(h,{key:n.cat_id,title:n.cat_name},null,8,["title"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(y,{span:"19"},{default:c(()=>[G(a($,{title:"",row:7},null,512),[[H,e.secondCate===null]]),a(P,{cateData:e.secondCate},null,8,["cateData"])]),_:1})]),_:1})]),a(j)],64)}}},de=L(W,[["__scopeId","data-v-d6389ebd"]]);export{de as default};
